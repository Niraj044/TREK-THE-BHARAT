<!DOCTYPE html>
<html lang="en">
  <!-- Students of Kanpur Trek The Bharat.com/itineraries/bookings/new?lang=en&trip_key=137142 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 22 Jun 2024 19:04:15 GMT -->
  <!-- Trek The Bharat  --><meta
    http-equiv="content-type"
    content="text/html;charset=utf-8"
  /><!-- /Trek The Bharat  -->
  <head>
    <title>
      Trek The Bharat - Manali Leh Srinagar | Online bookings powered by
      Vacation Labs
    </title>
    <script>
      loadjs = (function () {
        var h = function () {},
          c = {},
          u = {},
          f = {};
        function o(e, n) {
          if (e) {
            var r = f[e];
            if (((u[e] = n), r)) for (; r.length; ) r[0](e, n), r.splice(0, 1);
          }
        }
        function l(e, n) {
          e.call && (e = { success: e }),
            n.length ? (e.error || h)(n) : (e.success || h)(e);
        }
        function d(r, t, s, i) {
          var c,
            o,
            e = document,
            n = s.async,
            u = (s.numRetries || 0) + 1,
            f = s.before || h,
            l = r.replace(/[\?|#].*$/, ""),
            a = r.replace(/^(css|img)!/, "");
          (i = i || 0),
            /(^css!|\.css$)/.test(l)
              ? (((o = e.createElement("link")).rel = "stylesheet"),
                (o.href = a),
                (c = "hideFocus" in o) &&
                  o.relList &&
                  ((c = 0), (o.rel = "preload"), (o.as = "style")))
              : /(^img!|\.(png|gif|jpg|svg|webp)$)/.test(l)
              ? ((o = e.createElement("img")).src = a)
              : (((o = e.createElement("script")).src = r),
                (o.async = void 0 === n || n)),
            !(o.onload =
              o.onerror =
              o.onbeforeload =
                function (e) {
                  var n = e.type[0];
                  if (c)
                    try {
                      o.sheet.cssText.length || (n = "e");
                    } catch (e) {
                      18 != e.code && (n = "e");
                    }
                  if ("e" == n) {
                    if ((i += 1) < u) return d(r, t, s, i);
                  } else if ("preload" == o.rel && "style" == o.as)
                    return (o.rel = "stylesheet");
                  t(r, n, e.defaultPrevented);
                }) !== f(r, o) && e.head.appendChild(o);
        }
        function r(e, n, r) {
          var t, s;
          if ((n && n.trim && (t = n), (s = (t ? r : n) || {}), t)) {
            if (t in c) throw "LoadJS";
            c[t] = !0;
          }
          function i(n, r) {
            !(function (e, t, n) {
              var r,
                s,
                i = (e = e.push ? e : [e]).length,
                c = i,
                o = [];
              for (
                r = function (e, n, r) {
                  if (("e" == n && o.push(e), "b" == n)) {
                    if (!r) return;
                    o.push(e);
                  }
                  --i || t(o);
                },
                  s = 0;
                s < c;
                s++
              )
                d(e[s], r, n);
            })(
              e,
              function (e) {
                l(s, e), n && l({ success: n, error: r }, e), o(t, e);
              },
              s
            );
          }
          if (s.returnPromise) return new Promise(i);
          i();
        }
        return (
          (r.ready = function (e, n) {
            return (
              (function (e, r) {
                e = e.push ? e : [e];
                var n,
                  t,
                  s,
                  i = [],
                  c = e.length,
                  o = c;
                for (
                  n = function (e, n) {
                    n.length && i.push(e), --o || r(i);
                  };
                  c--;

                )
                  (t = e[c]),
                    (s = u[t]) ? n(t, s) : (f[t] = f[t] || []).push(n);
              })(e, function (e) {
                l(n, e);
              }),
              r
            );
          }),
          (r.done = function (e) {
            o(e, []);
          }),
          (r.reset = function () {
            (c = {}), (u = {}), (f = {});
          }),
          (r.isDefined = function (e) {
            return e in c;
          }),
          r
        );
      })();
    </script>

    <!-- 
  Initialising global data structures and VL.jquery_on_load to register functions that will be called
  when jQuery is loaded by the browser.
-->
    <script type="text/javascript">
      window.VL = window.VL || {};
      window.VL.jquery_on_load_callbacks =
        window.VL.jquery_on_load_callbacks || [];
      window.VL.trap_errors = function (msg, fn) {
        return function () {
          try {
            fn();
          } catch (e) {
            console.log(msg, e);
          }
        };
      };

      window.VL.with_timeout = function (fn) {
        if (window.location.search.indexOf("timeout") == -1) {
          return fn;
        } else {
          return function () {
            setTimeout(fn);
          };
        }
      };

      window.VL.jquery_on_load = function (msg, fn) {
        window.VL.jquery_on_load_callbacks.push(window.VL.trap_errors(msg, fn));
      };
      window.VL.window_on_load = function (msg, fn) {
        window.VL.jquery_on_load_callbacks.push(function () {
          $(window).on("load", window.VL.trap_errors(msg, fn));
        });
      };
      window.VL.document_on_ready = function (msg, fn) {
        window.VL.jquery_on_load_callbacks.push(function () {
          $(document).on("ready", window.VL.trap_errors(msg, fn));
        });
      };

      window.VL.trap_errors = function (msg, fn) {
        try {
          fn();
        } catch (e) {
          console.log("error in " + msg, e);
        }
      };

      window.VL.init_on_ready = function (msg, fn) {
        loadjs.ready("jquery", function () {
          $(document).ready(function () {
            setTimeout(function () {
              console.log("init", msg);
              window.VL.trap_errors(msg, fn);
            });
          });
        });
      };

      window.VL.createIntersectionObserver = function (elements, fn) {
        var io = new IntersectionObserver(function (entries, observer) {
          entries.forEach(function (e) {
            if (e.isIntersecting) {
              observer.unobserve(e.target);
              fn(e.target);
            }
          });
        });

        var arr = elements.selector ? elements.toArray() : elements;
        arr.forEach(function (e) {
          io.observe(e);
        });
        return io;
      };

      window.VL.i18n_t = function () {
        var k = arguments[0];
        var default_text = "missing: " + k;
        var lang = VL.language || "en";
        if (_.isObject(arguments[1])) {
          default_text = arguments[1].default_text || default_text;
          lang = arguments[1].language || lang;
        }

        if (_.isString(arguments[1])) {
          default_text = arguments[1] || default_text;
        }

        if (_.isString(arguments[2])) {
          lang = arguments[2] || lang;
        }

        return VL.translations[lang][k] || default_text;
      };

      window.VL.mobile_breakpoint = 768;

      window.ASSAN = window.ASSAN || {};
    </script>
    <link
      href="../../../vl-prod-static.b-cdn.net/prod/css-roller/itinerary/store_front/bookings-96e2c3dd3024856f5b126728bc76edb1.css"
      media="screen"
      rel="stylesheet"
      type="text/css"
    />
    <style></style>

    <script type="text/javascript">
      window.VL = window.VL || {};
      window.VL.language = "en";
      window.VL.translations = window.VL.translations || {};
      window.VL.translations["en"] = {
        "common.store_front.themes.flexi_theme.partials.trip_card_layout_v5.read_more":
          "read more",
        "common.store_front.themes.flexi_theme.partials.trip_card_layout_v5.read_less":
          "read less",
        "itinerary.store_front.bookings.booking_confirmation.fix_the_errors_message":
          "Please fix the errors marked in red to continue",
        "itinerary.store_front.bookings.post_booking_form_step.fix_the_errors_message":
          "Please fix the errors marked in red to continue",
        "common.store_front.themes.flexi_theme.partials.currency_tooptip_text":
          "Works out to about",
        "common.store_front.themes.flexi_theme.search.collections":
          "Collections",
        "common.store_front.themes.flexi_theme.search.pages": "Pages",
        "common.store_front.themes.flexi_theme.search.trips": "Trips",
        "common.store_front.themes.flexi_theme.search.advanced_search":
          "Advanced Search",
        "common.store_front.themes.flexi_theme.search.advanced_search_result_desc":
          "Can't find what you're looking for? Search using our various filter options.",
        "common.store_front.themes.flexi_theme.search.starting_from_text":
          "Starting from",
        "common.store_front.themes.flexi_theme.search.tours": "Tours",
        "itinerary.store_front.booking_calendar.available": "Available",
        "itinerary.store_front.booking_calendar.filling_fast": "Filling Fast",
        "itinerary.store_front.booking_calendar.sold_out": "Sold Out",
        "itinerary.store_front.booking_calendar.not_operating": "Not Operating",
        "itinerary.store_front.bookings.custom_form.errors.required":
          "This is a required field",
        "common.store_front.themes.all.currency_picker_text": "Change currency",
        "itinerary.store_front.bookings.custom_form.fields.date_of_birth.placeholders.year":
          "year",
        "itinerary.store_front.bookings.custom_form.fields.date_of_birth.placeholders.month":
          "month",
        "itinerary.store_front.bookings.custom_form.fields.date_of_birth.placeholders.day":
          "day",
        "common.store_front.themes.flexi_theme.search.no_matches_found":
          "No matches found",
        "global_strings.booking.person_titles": ["Mr", "Mrs", "Miss", "Mstr"],
        "itinerary.store_front.bookings.custom_form.fields.full_name.first_name.placeholder":
          "First name",
        "itinerary.store_front.bookings.custom_form.fields.full_name.last_name.placeholder":
          "Last name",
        "common.store_front.themes.flexi_theme.contact_us.contact_form.thank_msg":
          "Thank you for reaching out to us.  Your message has been submitted successfully",
        "common.store_front.themes.flexi_theme.contact_us.contact_form.sending_email":
          "Sending your email",
        "date.formats.short_with_year": "dd M, yy",
      };
      window.VL.AppSettings = {
        google_analytics_tracking_id: "UA-30889614-2",
        google_browser_apikey: "AIzaSyAGHUBpsnQpCdzltj5NSNuhLJPBhWgI1x8",
        sample_website_polling: { max_attempts: 150, interval: 3000 },
      };
    </script>

    <script
      src="../../../vl-prod-static.b-cdn.net/assets/itinerary/store_front/common_pack-3925328c7d8e6b1bf70baa090828d495.js"
      type="text/javascript"
    ></script>
    <script
      src="../../../vl-prod-static.b-cdn.net/assets/itinerary/store_front/itinerary-54072af507677f82326029cdcdd32b34.js"
      type="text/javascript"
    ></script>
    <script
      src="../../../vl-prod-static.b-cdn.net/assets/itinerary/common/departure_list_view-67fc8e6ffe8a22df2931860306ecbec0.js"
      type="text/javascript"
    ></script>
    <link
      href="../../../vl-prod-static.b-cdn.net/prod/css-roller/itinerary/store_front/departure_list_view-d0abefaca7892d40786cd71c4126f9d2.css"
      media="screen"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,600;0,700;1,100;1,300;1,400;1,600;1,700&amp;display=swap"
      media="screen"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:100,300,regular,700"
      media="screen"
      rel="stylesheet"
      type="text/css"
    />
    <script
      type="text/javascript"
      src="../../ng_client_locale0482.html?updated_at=1718007210&amp;bp_id=669844&amp;bp_updated_at=1710693754&amp;ws_updated_at=1718011640&amp;bf_updated_at=1705144863&amp;lang=en"
    ></script>
    <meta content="authenticity_token" name="csrf-param" />
    <meta
      content="8VH8NVZHV/zkJYAlb/jGop2HBb/mU3Lm0QCMmw23Fs8="
      name="csrf-token"
    />

    <link
      href="../../https://i.postimg.cc/28RMPC0L/Whats-App-Image-2024-06-23-at-12-29-31-1e70eae9.png"
      rel="shortcut icon"
      type="image/vnd.microsoft.icon"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />

    <script src="../../../icp.citruspay.com/js/citrus.js"></script>
    <script src="../../../icp.citruspay.com/js/jquery.payment.min.html"></script>

    <script type="text/javascript">
      // CitrusPay.Merchant.Config = {
      //   Merchant: {
      //     accessKey: "6OXILG5OXEVZC08BW0J7",
      //     vanityUrl: "vacationlabs"
      //   }
      // };
    </script>

    <!-- Insert your code here -->
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-BSTVQCYZQM"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-BSTVQCYZQM");
    </script>
    <!-- Meta Pixel Code -->
    <script>
      !(function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
          n.callMethod
            ? n.callMethod.apply(n, arguments)
            : n.queue.push(arguments);
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = "2.0";
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
      })(
        window,
        document,
        "script",
        "../../../connect.facebook.net/en_US/fbevents.js"
      );
      fbq("init", "278836514597622");
      fbq("track", "PageView");
    </script>
    <noscript
      ><img
        height="1"
        width="1"
        style="display: none"
        src="https://www.facebook.com/tr?id=278836514597622&amp;ev=PageView&amp;noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
    <style>
      .section-type-accreditations .content .logo-item .logo {
        filter: none;
      }
    </style>
    <!-- Insert your code here -->
  </head>
  <body
    id="new-storefront-booking-form"
    class="create booking-form-with-banner booking-mode"
  >
    <div class="top-bar">
      <!-- Top info container -->
      <div class="container">
        <div class="top-bar-selectors pull-right"></div>
      </div>
    </div>

    <div class="navigation-container" role="navigation">
      <!-- Used by full width menu -->
      <!-- <div class="container"> -->

      <div class="container">
        <a class="navbar-logo-container" href="../../index.html">
          <img
            alt="Trek The Bharat logo"
            class="focus-image logo header-logo"
            data-focus-x="0"
            data-focus-y="0"
            data-src="https://vl-prod-static.b-cdn.net/system/images/000/744/329/cba9b2bf5f04d18b758c2b9d494f1210/450gt/Yellow_Full_Logo.png?1709713979"
            data-srcset="https://vl-prod-static.b-cdn.net/system/images/000/744/329/cba9b2bf5f04d18b758c2b9d494f1210/225gt/Yellow_Full_Logo.png?1709713979 225w, https://vl-prod-static.b-cdn.net/system/images/000/744/329/cba9b2bf5f04d18b758c2b9d494f1210/450gt/Yellow_Full_Logo.png?1709713979 450w, https://vl-prod-static.b-cdn.net/system/images/000/744/329/cba9b2bf5f04d18b758c2b9d494f1210/675gt/Yellow_Full_Logo.png?1709713979 675w, https://vl-prod-static.b-cdn.net/system/images/000/744/329/cba9b2bf5f04d18b758c2b9d494f1210/900gt/Yellow_Full_Logo.png?1709713979 900w"
            id="logo"
            sizes="(min-width: 1200px) 10vw, (min-width: 768px) 30vw, 100vw"
            title="Trek The Bharat Logo"
          />
        </a>

        <div class="navbar-trip-name-container">Manali Leh Srinagar</div>

        <div class="contact-details-container pull-right">
          <div class="call">
            <a href="tel:+918382085044" class="no-decoration text-color">
              <i class="icon-phone icon-2x"></i>
            </a>
          </div>

          <div class="email">
            <a
              href="mailto:nirajsingh19982017@gmail.com"
              class="no-decoration text-color"
            >
              <i class="icon-envelope icon-2x"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
    <!--navbar-default-->
    <div class="banner-image-container">
      <div class="bg-cover-container" title="Manali Leh Srinagar - Tour">
        <img
          alt="Manali Leh Srinagar - Tour"
          class="focus-image"
          data-focus-x="0.014999999999999902"
          data-focus-y="-0.05333333333333323"
          data-src="https://vl-prod-static.b-cdn.net/system/images/000/746/748/1189673f200b3c15e1c0ea843f131bc1/x600gt/pexels-ex-route-adventures-18548807__1_.jpg?1717151496"
          data-srcset="https://vl-prod-static.b-cdn.net/system/images/000/746/748/1189673f200b3c15e1c0ea843f131bc1/x300gt/pexels-ex-route-adventures-18548807__1_.jpg?1717151496 400w, https://vl-prod-static.b-cdn.net/system/images/000/746/748/1189673f200b3c15e1c0ea843f131bc1/x600gt/pexels-ex-route-adventures-18548807__1_.jpg?1717151496 800w, https://vl-prod-static.b-cdn.net/system/images/000/746/748/1189673f200b3c15e1c0ea843f131bc1/x900gt/pexels-ex-route-adventures-18548807__1_.jpg?1717151496 1200w, https://vl-prod-static.b-cdn.net/system/images/000/746/748/1189673f200b3c15e1c0ea843f131bc1/x1200gt/pexels-ex-route-adventures-18548807__1_.jpg?1717151496 1600w"
          sizes="(min-width: 1460px) 1440px, (min-width: 768px) and (max-width: 1459px) 100vw, 200vw"
          title="Manali Leh Srinagar - Tour"
        />
      </div>
      <div class="black-50-overlay"></div>
    </div>

    <div class="mobile-trip-name-container">Manali Leh Srinagar</div>

    <div id="body">
      <div
        class="container"
        id="vl-itinerary-booking-form"
        data-trip-id="137142"
      >
        <div ng-app="vl.itinerary.store_front.bookings" id="ng-app">
          <script type="text/ng-template" id="payment-processor-form.html">
                  <div class="payment-options" ng-form="payment_processor_form" ng-controller="PaymentFormController">
              <div vl-control-group="payment_processor_form.payment_processor">
                <h2>Payment options</h2>

                <div class="help-block errors" vl-appear="show_errors && payment_processor_form.payment_processor.$invalid" style="margin-bottom: 15px;">
                  Please select a payment method
                </div>

                <div class="payment-options-container" ng-class="{'pg-selected': selected_payment_processor}">
                    <div ng-class="{'pg-col2': true, 'selected-pg': selected_payment_processor.id==90775}">
                      <div class="pg-col2-header">
                        <span class="remove-icon pull-right" ng-click="deselect_selected_pg()" ng-if="selected_payment_processor.id==90775"><i class="icon-remove"></i></span>
                        <div class="clickable-container" ng-click="toggle_pg_selection(90775, true)">
              <div class="pg-inner-container" ng-class="{'only-pg-name': true}">
                <div class="selection-icon">
                  <span class="icon-stack">
                    <i class="icon-circle icon-stack-base"></i>
                    <img alt="Storefront-pg-list-ok" class="tick-icon" src="../../../vl-prod-static.b-cdn.net/assets/storefront-pg-list-ok-fd666b13d644f9763dd355a27d7d6131.png" />
                  </span>
                </div>
                <div class="pg-name-container">
                  <div class="pg-name">Pay via cash / cheque / wire transfer</div>
                  <div class="pg-description"></div>
                </div>
                <div class="pg-icon-container">
                  <img class="pg-icon" ng-src="../../../vl-prod-static.b-cdn.net/assets/money_copy-2ce0d4d880cb750ced13db0bdef55392.png">
                </div>
              </div>
            </div>

                      </div>
                      <div class="section" ng-if="selected_payment_processor.id==90775">
                        <div class="pg-specific-form" ng-if="payment.pg_id=='90775'">

            </div>

            <div ng-if="selected_payment_processor.message_before_completing_payment" class="message-before-redirect" ng-bind-html="selected_payment_processor.message_before_completing_payment | html_safe"></div>

            <div vl-booking-caveats-form ng-if="trip.has_caveats || client.booking_terms_url"></div>
            <div id="make-payment-button" class="switcher-popover" >
              <div ng-if="(booking.cannot_skip_payment() || settings.payment_request)">
                <span vl-currency-changed-tooltip class="persistent-tooltip" amount='booking.current_payment_amount' currency='booking.currency'>
                <div ng-if="!is_offline_payment(payment.payment_processor)" vl-next-step-button
                      class="btn btn-primary btn-large"
                      on-click="next_step()"
                      disable-button="{{disable_pay_button}}"
                      caption="Pay now">
                </div>
                <div ng-if="is_offline_payment(payment.payment_processor)" vl-next-step-button
                      disable-button="{{disable_pay_button}}"
                      class="btn btn-primary btn-large"
                      on-click="next_step()"
                      caption="Complete booking">
                </div>
              </div>
              <div ng-if="(booking.can_skip_payment() && !settings.payment_request)" vl-next-step-button
                    disable-button="{{disable_pay_button}}"
                    class="btn btn-primary btn-large"
                    on-click="next_step()"
                    caption="Send enquiry">
              </div>
              </span>
              <!-- <div class="muted balance-payment" ng-show="booking.balance_payment>0 && booking.cannot_skip_payment()">
              </div> -->
              <div>
                <p class="converted-payment-amount-info" ng-if="booking.cannot_skip_payment() && selected_payment_processor.id">
                  <span ng-if="fetching_payment_amount">
                    Loading...<i class="icon-spinner icon-spin"></i>
                  </span>
                  <span ng-if="!fetching_payment_amount">
                    This payment will be processed as<strong> {{ payment_values_for_selected_pg.amount | currency:  payment_values_for_selected_pg.currency}}</strong></p>
                  </span>
              </div>
            </div>

                      </div>
                    </div>
                </div>

              </div>
            </div>
          </script>
          <script type="text/ng-template" id="departure-date-step.html">
                  <div ng-controller="DepartureDateStepController" class="departure-date-step">


              <div vl-booking-form-error-message></div>
                <div id="no-upcoming-open-slots-message" class="section no-upcoming-open-slots">
                  <div class="row-fluid">
                    <div class="mail-icon">
                      <img alt="Mail_icon" src="../../../vl-prod-static.b-cdn.net/assets/mail_icon-d66ccaf4f1ad96198c479998ca98d7d5.png" />
                    </div>
                    <div class="info-message">
                      <div>
                        <p>Sorry we aren't open for bookings.</p><p>You could get in touch with us at <a href='mailto:nirajsingh19982017@gmail.com'>nirajsingh19982017@gmail.com</a> if you'd like to make a booking.</p>
                      </div>
                    </div>
                  </div>
                </div>

              <div class="section" ng-if="trip.booking_form_ui_settings.show_departure_list && false">
                <div>
                  <h3>Pick a departure date</h3>
                  <p>You can request for a departure in case it is sold-out or we&#x27;re not normally operating on that date. We will try to accommodate your request, if we can.</p>

                  <div class="widget-container">
                    <div vl-itinerary-departure-list-header></div>
                    <div vl-itinerary-departure-list-view trip="trip" on-select="trip_option_selected(trip_option, starts_at, pricings)" ui-settings="trip.booking_form_ui_settings" refresh="departure_list_refresh"></div>
                    <div vl-itinerary-departure-list-footer></div>
                  </div>
                </div>
              </div>

              <div class="section" ng-if="trip.booking_form_ui_settings.show_departure_calendar && false">
                <div class="row-fluid">
                  <div class="departure-date-selector">
                    <div vl-itinerary-departure-date-picker="" departure-date="selected_date" disable-translation="true" on-change="select_departure_date(mDate)" on-change-month-year="fetch_departure_calendar(year, month)" refresh="calendar_refresh"  >
                    </div>
                  </div>
                  <div class="coach-marks" ng-show="!selected_date">
                    <img alt="Departure-date-step-arrow-icon" src="../../../vl-prod-static.b-cdn.net/assets/itinerary/store_front/departure-date-step-arrow-icon-0436950f1e39158cb7ab3b7ba10f2794.png" />
                    <h2>Pick a departure date</h2>
                    <p>You can request for a departure in case it is sold-out or we&#x27;re not normally operating on that date. We will try to accommodate your request, if we can.</p>
                  </div>

                  <div class="trip-option-list" ng-show="selected_date">
                    <h2 vl-highlight-on-change="{{selected_date}}">Available options for <span class="selected-date">{{ selected_date | date_format:'shortDate' }}</span></h2>
                    <div ui-if="show_accordions">
                      <div accordion close-others="true">
                        <div accordion-group ng-repeat="to in filtered_trip_options | orderBy:'to.position'" is-open="show_accordions && filtered_trip_options.length == 1">
                          <div accordion-heading>
                            <h4>
                              <div class="row-fluid">
                                <div class="span7">
                                  <span ui-if="!ui.show_trip_option_details">{{trip.name}}</span>
                                  <span ui-if="ui.show_trip_option_details">{{to.trip_option.title}}</span>
                                  <span ui-if="show_accordions" class="muted"><small>({{to.time_slots.length}} departures available)</small></span>
                                  <div ui-if="ui.show_trip_option_details && (to.trip_option.description.length > 0)">
                                    <small><i>{{to.trip_option.description}}</i></small>
                                  </div>
                                </div>
                                <div class="span5 muted">
                                  <small>
                                      <div class="sticker-price">
                                        <span ng-if="to.trip_option.advt_price_label_position == 'prefix'">
                                           {{ to.trip_option.advt_price_label }}
                                        </span>

                                        {{to.sticker_price | total_amount_in_preferred_currency:trip.currency }}

                                        <span ng-if="to.trip_option.advt_price_label_position == 'suffix'">
                                            {{ to.trip_option.advt_price_label }}
                                        </span>
                                      </div>
                                  </small>
                                </div>
                              </div>
                            </h4>
                          </div>
                          <div accordion-body>
                            <div ng-show="show_accordions" class="trip-option" ng-repeat="time_slot in to.time_slots">
                              <div vl-starts-ends-at-duration occurrence="time_slot" trip="trip" show-duration-always="true"></div>
                              <div vl-availability-block occurrence="time_slot" ui-settings="trip.booking_form_ui_settings"></div>
                              <div vl-guaranteed-messaging occurrence="time_slot" ui-settings="trip.booking_form_ui_settings" ng-if="occurrence_guaranteed(time_slot) && (trip.booking_form_ui_settings.show_guaranteed_departure || trip.booking_form_ui_settings.show_x_to_guarantee_departure)"></div>
                              <div vl-store-front-book-button occurrence="time_slot" on-book="trip_option_selected(trip_option, starts_at, pricings)" trip="trip" trip-option="to.trip_option"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div ui-if="!show_accordions">
                      <div class="pseudo-accordion-block" ng-repeat="to in filtered_trip_options | orderBy:'to.position'">
                        <div class="pseudo-accordion-heading">
                          <h4>
                            <div class="row-fluid">
                              <div class="span7">
                                <span ui-if="!ui.show_trip_option_details">{{trip.name}}</span>
                                <span ui-if="ui.show_trip_option_details">{{to.trip_option.title}}</span>
                                <div class="muted" ui-if="ui.show_trip_option_details && to.trip_option.description.length > 0">
                                  <small><i>{{to.trip_option.description}}</i></small>
                                </div>
                              </div>
                              <div class="span5 muted">
                                <small>
                                  <div class="sticker-price">
                                    <span ng-if="to.trip_option.advt_price_label_position == 'prefix'">
                                      {{ to.trip_option.advt_price_label }}
                                    </span>
                                    {{to.sticker_price | total_amount_in_preferred_currency:trip.currency }}
                                    <span ng-if="to.trip_option.advt_price_label_position == 'suffix'">
                                      {{ to.trip_option.advt_price_label }}
                                    </span>
                                  </div>
                                </small>
                              </div>
                            </div>
                          </h4>
                        </div>
                        <div class="pseudo-accordion-body">
                          <div class="row-fluid">
                            <div class="span12">
                              <div vl-starts-ends-at-duration occurrence="to.time_slots[0]" trip="trip" show-duration-always="true"></div>
                              <div vl-availability-block occurrence="to.time_slots[0]" ui-settings="trip.booking_form_ui_settings"></div>
                              <div vl-guaranteed-messaging occurrence="to.time_slots[0]" ui-settings="trip.booking_form_ui_settings" ng-if="occurrence_guaranteed(to.time_slots[0]) && (trip.booking_form_ui_settings.show_guaranteed_departure || trip.booking_form_ui_settings.show_x_to_guarantee_departure)"></div>
                              <div vl-store-front-book-button occurrence="to.time_slots[0]" on-book="trip_option_selected(trip_option, starts_at, pricings)" trip="trip" trip-option="to.trip_option"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </script>
          <script type="text/ng-template" id="booking-items-step.html">
                  <div class="booking-items-step">
              <div ng-form name="booking_items_form" ng-class="{'form-horizontal': true, 'pricing-breakup': settings.pricing_breakup}">
                <div class="row-fluid">
                  <div class="booking-form-main-col">
                    <div vl-booking-form-error-message="bi_form"></div>
                    <div vl-appear="bi_form.$invalid || (show_errors && booking_items_form.$invalid)" class="booking-form-errors alert alert-error">
                      <h4>Please fix the errors below and try again</h4>
                      <p ng-show="bi_form.guest_count.$error.min">You need to book <em>at least</em> {{ trip_option.min_pax }} participants in this booking.</p>
                      <p ng-show="bi_form.guest_count.$error.max">You <strong>cannot</strong> book more than {{ trip_option.max_pax }} participants at a time.</p>
                    </div>


                    <div class="section">
                      <div class="pax-form booking-items">
              <!-- <div ng-repeat="eng in booking.pax_engagements">
                <div class="row-fluid booking-item" ng-repeat="pax_type in booking.pax_types" >
                  <div class="col1 pax-type">
                    <div class="name">{{ pax_type.name }}</div>
                    <div class="description">{{ pax_type.description }}</div>
                  </div>
                  <div ng-class="{col2:true, quantity:true, 'slab-pricing': trip_option.per_pax_slab_pricing}">
                    <span vl-pax-quantity-selector trip-option="trip_option" ng-model="eng.pax_counts[pax_type.pax_type_code]" on-change="recompute_pricing()" currency="booking.currency" pax-type="pax_type"></span>
                    <span class="rate" ui-if="settings.pricing_breakup">&times; {{rate_for_pax_eng(eng, pax_type.pax_type_code) | line_item_amount:booking.currency}}</span>
                  </div>
                </div>
              </div> -->

              <div ng-repeat="pricing in trip_option.pricings">
                <div class="row-fluid booking-item">
                  <div class="col1 pax-type">
                    <div class="name">{{ pricing.name }}</div>
                    <div class="description">{{ pricing.description }}</div>
                  </div>
                  <div ng-class="{col2:true, quantity:true, 'slab-pricing': pricing.rate_type=='group'}">
                    <span vl-pax-quantity-selector trip-option="trip_option" ng-model="base_pricing_item_for(pricing).quantity" on-change="recompute_pricing()" currency="booking.currency" pricing="pricing"></span>
                    <span class="rate" ui-if="settings.pricing_breakup">&times; {{rate_for_pax_eng(eng, pax_type.pax_type_code) | line_item_amount:booking.currency}}</span>
                  </div>
                </div>
              </div>

            </div>


            <div class="coupon">
              <h2>Have a coupon?</h2>
              <div class="booking-items">
                <div class="booking-item coupon">
                  <div class="col1">
                    <div class="input-append">
                      <input name="coupon_code" ng-model="coupon_code" type="text" class="input-small" ng-disabled="!coupon_codes_applicable" placeholder="Enter coupon" /><a href="" class="btn add-coupon add-on" ng-click="coupon_code_applied()" ng-if="coupon_codes_applicable"><i class="icon-ok visible-phone"></i><span class="hidden-phone">Apply</span></a><a href="" class="btn btn-info remove-coupon" ng-if="!coupon_codes_applicable" ng-click="coupon_code_removed()"><i class="icon-remove visible-phone"></i><span class="hidden-phone">Remove</span></a>
                    </div>
                  </div>
                  <div class="col2" style="vertical-align: middle;">
                    <span ng-show="!!coupon_amount">
                      {{coupon_amount | line_item_amount: booking.currency}}
                    </span>
                  </div>
                </div>
              </div>
            </div>

            <div class="booking-items">
              <div class="booking-item total">
                <div class="col1">
                  <span class="label label-total">Total amount</span>
                  <span ng-show="(!settings.pricing_breakup) && booking.get_pricing_items_length() > 0">
                      <span class="visible-desktop visible-tablet">|</span> <small style="font-size: 12px;"><a href="" ng-click="show_inclusion_exclusion=!show_inclusion_exclusion" >What&#x27;s included; what&#x27;s not</a></small>
                  </span>
                </div>
                <div class="amount col2 switcher-popover popover-position">
                  <div vl-appear="!computing_price" disappear-effect="hide">
                    <span vl-currency-changed-tooltip class="persistent-tooltip" amount='booking.amount' currency='booking.currency' >
                      <span ng-show="booking.amount>0" >{{ booking.amount | line_item_amount:booking.currency }}</span>
                      <span ng-show="!booking.amount">&ndash;</span>
                      <span class="pricing-popover" ng-show="(!settings.pricing_breakup) && booking.get_pricing_items_length() > 0">
                        <a href="" ng-click="show_pricing_breakup=!show_pricing_breakup" class="pricing-breakup-link">(Price breakup)</a>
                      </span>
                    </span>
                  </div>
                  <div ng-show="computing_price">
                    <img alt="Ajax-loader" src="../../../vl-prod-static.b-cdn.net/assets/ajax-loader-950501ed18b5a2b90bc681c7fb40ee7c.gif" />
                  </div>
                </div>
              </div>
              <div vl-appear="show_pricing_breakup" class="pricing-breakup-block">
                <div ng-repeat="pi in booking.get_pricing_items() track by $index" class="pricing-breakup booking-item" ng-show="pi.category != 'per_pax:group'" ng-class="{ 'pax-group' : booking.get_pricing_items()[$index+1].category == 'per_pax:group'}">
              <div class="col1">{{ pi.description }}<span class="quantity" ui-if="pi.category=='per_pax' || pi.category=='addon'">{{ pi.quantity }} &times; {{ pi.rate | line_item_amount:booking.currency}} </span></div>
              <div ng-hide="booking.get_pricing_items()[$index+1].pricing_rule_id == pi.pricing_rule_id && booking.get_pricing_items()[$index+1].category=='per_pax:group'" class="col2">{{ pi.amount | line_item_amount:booking.currency }}</div>
              <div ng-show="booking.get_pricing_items()[$index+1].pricing_rule_id == pi.pricing_rule_id && booking.get_pricing_items()[$index+1].category=='per_pax:group'" class="col2">{{ pi.amount + booking.get_pricing_items()[$index+1].amount | line_item_amount:booking.currency }}</div>
              <div ng-show="booking.get_pricing_items()[$index+1].pricing_rule_id == pi.pricing_rule_id && booking.get_pricing_items()[$index+1].category=='per_pax:group'" class="col1 group">{{ booking.get_pricing_items()[$index+1].description }}<span class="quantity">+ {{ booking.get_pricing_items()[$index+1].amount | line_item_amount:booking.currency}} </span></div>

            </div>
              </div>
            </div>


            <div class="min-payment-required-message">
              <div vl-appear="booking.min_payment_required<booking.amount && booking.cannot_skip_payment()">
                <div class="inner">
                  <div class="notch"></div>
                  <div ng-show="booking.confirm_wo_payment">
                    You can pay {{booking.amount | total_amount:booking.currency}} at the venue as per the <a ng-href='' target='_blank'>booking terms &amp; conditions</a>. However, we would prefer that you make an advance payment of {{booking.min_payment_required | total_amount:booking.currency}} for this booking.
                  </div>

                  <div ng-show="!booking.confirm_wo_payment">
                    You need to pay only {{ booking.min_payment_required | total_amount:booking.currency }} to confirm this booking. Balance {{ (booking.amount - booking.min_payment_required) | total_amount:booking.currency }} can be paid as per the <a ng-href='' target='_blank'>booking terms &amp; conditions</a>
                  </div>
                </div>
              </div>
            </div>

            <div vl-appear="show_inclusion_exclusion" class="row-fluid" style="margin-top: 20px;">
                <div class="span6 alert-success booking-inclusions-container">
                  <h4 class="inclusion-header">Inclusions</h4>
                  <i class="icon-ok inclusion-icon pull-right"></i>
                  <div class="inclusions"><ul>
            <li>Volvo transfer from Delhi to Manali.</li>
            	<li>Bike rent for 4 days with fuel from Leh to Leh (for biking option) and Riding gears (Helmets, Elbow guard, Knee Guard) with Mechanical backup.</li>
            	<li>Entire travel from Manali to Srinagar by tempo traveler (For Tempo Traveler Option).</li>
            	<li>Stay for 09 nights Accommodations on Triple sharing basis as per itinerary.</li>
            	<li>Meal Plan: 18 Meals (Breakfast+ Dinner, starting from Day 1 Dinner till Day 10 Breakfast).</li>
            	<li>Mechanical Backup.</li>
            	<li>All inner line permits for the trip.</li>
            	<li>Driver Night Charges, Toll Tax, Parking Charges, etc.</li>
            	<li>Team Captain throughout the trip.</li>
            	<li>An Oxygen Cylinder 24/7 in the car in case of emergency.</li>
            	<li>Riding Gears - Helmet, Gloves, Elbow Guard, Knee Pads ( Though it is recommended you carry your own helmet for comfort)</li>
            </ul></div>
                </div>
                <div class="span6 alert-error booking-exclusions-container">
                  <h4 class="exclusion-header">Exclusions</h4>
                  <i class="icon-remove exclusion-icon pull-right"></i>
                  <div class="exclusions"><p> </p>

            <ul>
            <li>Early check-in at the hotel.</li>
            	<li>Any additional expenses such as of personal nature.</li>
            	<li>Additional accommodation/food costs incurred due to any delay travel.</li>
            	<li>Any lunch and other meals not mentioned in Package Inclusions.</li>
            	<li>Any Airfare / Rail fare other than what is mentioned in “Inclusions” or any type of transportation.</li>
            	<li>Parking and monument entry fees during sightseeing.</li>
            	<li>Additional Costs due to Flight Cancellations, Landslides, Roadblocks, and other natural calamities.</li>
            	<li>Any other services not specified above in inclusions.</li>
            	<li>Vehicle servicing or maintenance cost and security deposit per motorbike of Rs. 10,000/-. As per the deposit policy (This is refundable at the end of the trip if there is no damage or spare parts required.) </li>
            </ul></div>
                </div>
            </div>


                    </div>

                    <div vl-contact-details-form class="section"></div>


                    <div vl-booking-comments-form class="section"></div>
                  </div>
                  <div class="booking-form-sidebar">
                    <div vl-booking-sidebar booking="booking"></div>
                  </div>
                </div>
                <div class="form-actions">
                  <div ng-switch="settings.pax_info">
                    <div ng-switch-when="true" vl-next-step-button class="btn btn-primary" on-click="next_step()" caption="Enter participant details &rarr;"></div>

                    <div ng-switch-when="false">
                      <div ng-if="booking.cannot_skip_payment()" vl-next-step-button
                            on-click="next_step()"
                            class="btn btn-primary"
                            caption="Review &amp; Payment &rarr;">
                      </div>
                      <div ng-if="booking.can_skip_payment()" vl-next-step-button
                            on-click="next_step()"
                            class="btn btn-primary"
                            caption="Review &amp; Send enquiry &rarr;">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </script>
          <script type="text/ng-template" id="pax-details-step.html">
                  <div ng-controller="PaxDetailsStepController" class="pax-items-step">
              <div ng-form class="form-horizontal" name="pax_details_form">
                <div class="row-fluid">
                  <div class="booking-form-main-col">
                    <div vl-appear="(show_errors && pax_details_form.$invalid)" class="booking-form-errors alert alert-error">
                      <h4>Please fix the errors marked in red to continue</h4>
                    </div>
                    <div vl-booking-form-error-message="pax_details_form"></div>
                    <fieldset class="pax-details-form section" ng-repeat="pax in booking.passengers" ng-form name="pax_form">
                      <!-- <h2>Participant {{ pax.position }} details &ndash; <small>{{ trip.find_pax_type(pax.pax_type_code).name }}</small></h2> -->

                      <h2 ng-bind-html="pax.description | html_safe"></h2>
                    </fieldset>

                  </div>
                  <div class="booking-form-sidebar">
                    <div vl-booking-sidebar booking="booking"></div>
                  </div>
                </div>
                <div class="form-actions">
                  <div ng-if="booking.cannot_skip_payment()" vl-next-step-button
                        on-click="next_step()"
                        class="btn btn-primary"
                        caption="Review &amp; Payment &rarr;">
                  </div>
                  <div ng-if="booking.can_skip_payment()" vl-next-step-button
                        on-click="next_step()"
                        class="btn btn-primary"
                        caption="Review &amp; Send enquiry &rarr;">
                  </div>
                </div>
              </div>
            </div>
          </script>
          <script type="text/ng-template" id="payment-step.html">
                  <div ng-controller="PaymentStepController" class="payment-step">
              <div class="error-block" ng-if="booking_form_mode=='payment_retry' || booking_form_mode=='connection_timeout'">
                <div ng-if="booking_form_mode=='payment_retry'" class="alert alert-error payment-retry-message booking-form-message">
                  <h3>Your payment did not go through. Would you like to try again?</h3>
                </div>
                <div ng-if="booking_form_mode=='connection_timeout'" class="alert alert-error connection-timeout-message booking-form-message">
                  <h3>We&#x27;re not sure what happened. The connection timed out.</h3>
                  <p>You could try to make the payment again or contact us at <strong><a href="mailto:{{client.support_email}}?Subject={{mailtoSubjectLine}}">{{client.support_email}}</a></strong> about booking with ref. no. <strong>{{booking.booking_ref}}</strong></p>
                </div>
              </div>

              <!-- <div ng-if="booking_form_mode=='new_payment'" class="alert alert-info new-payment-message booking-form-message">
                Creating a new payment...
              </div> -->

              <div class="row-fluid">
                <div class="booking-form-main-col">


                  <div class="section review-section">
                    <div vl-booking-review-block></div>
                  </div>

                  <div ng-form="confirmation_step_form">
                    <div ng-form name="payment_form" class="form-vertical">

                      <div class="alert alert-error booking-form-errors" vl-appear="show_errors && payment_form.$invalid">
                        <h4>Please fix the errors marked in red to continue</h4>
                      </div>

                      <div ng-show="!booking.can_skip_payment()">
                        <div vl-payment-processor-form="" class="section"></div>
                      </div>

                      <div class="enquiry-btn-container" ng-if="booking.can_skip_payment()">
                        <div id="make-payment-button" class="switcher-popover" >
              <div ng-if="(booking.cannot_skip_payment() || settings.payment_request)">
                <span vl-currency-changed-tooltip class="persistent-tooltip" amount='booking.current_payment_amount' currency='booking.currency'>
                <div ng-if="!is_offline_payment(payment.payment_processor)" vl-next-step-button
                      class="btn btn-primary btn-large"
                      on-click="next_step()"
                      disable-button="{{disable_pay_button}}"
                      caption="Pay now">
                </div>
                <div ng-if="is_offline_payment(payment.payment_processor)" vl-next-step-button
                      disable-button="{{disable_pay_button}}"
                      class="btn btn-primary btn-large"
                      on-click="next_step()"
                      caption="Complete booking">
                </div>
              </div>
              <div ng-if="(booking.can_skip_payment() && !settings.payment_request)" vl-next-step-button
                    disable-button="{{disable_pay_button}}"
                    class="btn btn-primary btn-large"
                    on-click="next_step()"
                    caption="Send enquiry">
              </div>
              </span>
              <!-- <div class="muted balance-payment" ng-show="booking.balance_payment>0 && booking.cannot_skip_payment()">
              </div> -->
              <div>
                <p class="converted-payment-amount-info" ng-if="booking.cannot_skip_payment() && selected_payment_processor.id">
                  <span ng-if="fetching_payment_amount">
                    Loading...<i class="icon-spinner icon-spin"></i>
                  </span>
                  <span ng-if="!fetching_payment_amount">
                    This payment will be processed as<strong> {{ payment_values_for_selected_pg.amount | currency:  payment_values_for_selected_pg.currency}}</strong></p>
                  </span>
              </div>
            </div>

                      </div>
                    </div>
                  </div>
                </div>

                <div class="booking-form-sidebar">
                  <div vl-booking-sidebar booking="booking"></div>
                </div>
              </div>

            </div>
          </script>
          <script type="text/ng-template" id="booking-sidebar.html">
                  <div class="sidebar">
              <div class="client-contact">
                <h4>Problem in booking?</h4>
                <p class="support-phone" ui-if="client.support_phone"><i class="icon-phone"></i> {{ client.support_phone}}</p>
                <p class="support-email" ui-if="client.support_email"><i class="icon-envelope"></i> <a href="" ng-click="send_support_email()" tabindex="999">{{ client.support_email}}</a></p>
              </div>
              <div class="overview-summary">
                <div ng-show="booking.starts_at">
                  <h4>Manali Leh Srinagar</h4>
                  <div style="margin-bottom:5px;">
                    <div class="calendar-icon">
                      <i class="icon-calendar muted"></i>
                    </div>
                    <div class="time-container">
                      <span> {{booking.starts_at | intelligent_booking_date : booking.time_significance}} </span>
                      <span ng-if="booking.time_significance"> <strong> {{booking.starts_at | date_format:'timeOnly'}}</strong></span>
                      <span class="ends_at" ng-if="date_mismatch(booking.ends_at, booking.starts_at) || booking.time_significance">
                        to
                        <br ng-if="date_mismatch(booking.ends_at, booking.starts_at)">
                        <span ng-if="date_mismatch(booking.ends_at, booking.starts_at)">
                          {{booking.ends_at | intelligent_booking_date : booking.time_significance}}
                        </span>
                        <span ng-if="booking.time_significance"> <strong>{{booking.ends_at | date_format:'timeOnly'}}</strong>  </span>
                      </span>
                    </div>
                  </div>
                  <div duration-view trip="booking.trip" divider="false" show-time-icon="true"></div>

                </div>

                <div ng-show="settings.show_pax_booking_form && booking.pax_engagements.length > 0 && settings.steps=='multi' && ($state.is('payment_step') || $state.is('pax_details_step'))" class="rooms">
                  <h4>translation missing: en.itinerary.store_front.bookings.sidebar.summary</h4>
                  <!-- <p ng-repeat="eng in booking.pax_engagements">
                    <span ng-repeat="pt in booking.pax_types">{{eng.pax_counts[pt.pax_type_code]}} X {{pt.name}}</span>
                  </p>
                  <p ng-repeat="addon in booking.trip.addons"><span ui-if="addon_eng_for(addon.id).quantity > 0">{{addon_eng_for(addon.id).quantity}} X {{addon.name}}</span></p> -->
                  <table>
                    <tr ng-repeat="pi in booking.pricing_items">
                      <td class="description"><span class="quantity" ui-if="pi.category=='per_pax' || pi.category=='addon'">{{ pi.quantity }} &times; </span>{{ pi.description }}</td>
                    </tr>
                  </table>
                </div>
                <div ng-show="settings.show_hotel_booking_form && booking.room_count>0 && settings.steps=='multi' && ($state.is('payment_step') || $state.is('pax_details_step'))" class="rooms">
                  <h4>Rooms</h4>
                  <div class="dl-room" ng-repeat="eng in booking.room_engagements">
                    <div class="dt muted">Room {{ eng.position }}</div>
                    <div class="dd">{{ booking.occupancy_string(eng) }}</div>
                  </div>
                </div>
              </div>
            </div>
          </script>
          <script type="text/ng-template" id="booking-review-block.html">
                  <div class="review payment-details-section">
              <h2>Review your booking</h2>
              <div class="dl dl-icon">
                <div class="dt"><i class="icon-calendar"></i></div>
                <div class="dd departure">
                {{ booking.starts_at | date_with_intelligent_year:booking.time_significance }} to {{ booking.ends_at | date_with_intelligent_year:booking.time_significance }}
                <span class="muted">({{ trip.advertised_duration_string }})</span>
                </div>
              </div>
              <div class="dl dl-icon">
                <div class="dt"><i class="icon-map-marker"></i></div>
                <div class="dd">
                  <span class="trip-name">{{ trip.name }}</span>
                  <span class="trip-option-name" ui-if="settings.trip_option=='multi'"> &ndash; {{ trip_option.title }}</span>
                  <div class="trip-option-description" ng-bind-html="booking.trip_option.description | html_safe" ui-if="settings.trip_option=='multi'"></div>
                </div>
              </div>
              <div class="dl dl-icon">
                <div class="dt"><i class="icon-user"></i></div>
                <div class="dd contact-name">{{ booking.contacts[0].full_name }}</div>
              </div>
              <div class="dl dl-icon">
                <div class="dt"><i class="icon-envelope"></i></div>
                <div class="dd contact-email">{{ booking.contacts[0].email }}</div>
              </div>
              <div class="dl dl-icon">
                <div class="dt"><i class="icon-phone"></i></div>
                <div class="dd contact-phone">{{ booking.contacts[0].phone }}</div>
              </div>

              <h2 class="payment-details-header">Payment details</h2>
              <div class="booking-items pricing-items">
                <div class="booking-item header" ng-class="{'collapsed': show_pricing_breakup}">
                  <div class="col1">Total amount</div>
                  <div class="col2 amount switcher-popover" >
                    <span class="persistent-tooltip" vl-currency-changed-tooltip amount='booking.amount' currency='booking.currency'> {{ booking.amount | line_item_amount:booking.currency }}</span>
                    <span class="view-hide-btn">
                      <a href="" ng-click="show_pricing_breakup=!show_pricing_breakup" class="pricing-breakup-link">
                        <span ng-if="!show_pricing_breakup">View details</span>
                        <span ng-if="show_pricing_breakup">Hide details</span>
                      </a>
                    </span>
                  </div>
                </div>
                <div ng-show="show_pricing_breakup" class="pricing-breakup-block">
                  <div ng-repeat="pi in booking.get_pricing_items() track by $index" class="pricing-breakup booking-item" ng-show="pi.category != 'per_pax:group'" ng-class="{ 'pax-group' : booking.get_pricing_items()[$index+1].category == 'per_pax:group'}">
              <div class="col1">{{ pi.description }}<span class="quantity" ui-if="pi.category=='per_pax' || pi.category=='addon'">{{ pi.quantity }} &times; {{ pi.rate | line_item_amount:booking.currency}} </span></div>
              <div ng-hide="booking.get_pricing_items()[$index+1].pricing_rule_id == pi.pricing_rule_id && booking.get_pricing_items()[$index+1].category=='per_pax:group'" class="col2">{{ pi.amount | line_item_amount:booking.currency }}</div>
              <div ng-show="booking.get_pricing_items()[$index+1].pricing_rule_id == pi.pricing_rule_id && booking.get_pricing_items()[$index+1].category=='per_pax:group'" class="col2">{{ pi.amount + booking.get_pricing_items()[$index+1].amount | line_item_amount:booking.currency }}</div>
              <div ng-show="booking.get_pricing_items()[$index+1].pricing_rule_id == pi.pricing_rule_id && booking.get_pricing_items()[$index+1].category=='per_pax:group'" class="col1 group">{{ booking.get_pricing_items()[$index+1].description }}<span class="quantity">+ {{ booking.get_pricing_items()[$index+1].amount | line_item_amount:booking.currency}} </span></div>

            </div>
                </div>
              </div>

              <div class="booking-items payments" ng-if="booking.total_payment>0 || booking.pending_payment_amount>0">
                <div ng-show="booking.total_payment > 0">
                  <div class="booking-item header" ng-show="booking.total_payment>0" ng-class="{'collapsed': show_payments}">
                    <div class="col1">Payments made uptill now</div>
                    <div class="col2 amount switcher-popover persistent-tooltip" vl-currency-changed-tooltip amount='booking.total_payment' currency='booking.currency'>{{ booking.total_payment | line_item_amount:booking.currency }}
                    <span class="view-hide-btn">
                      <a href="" ng-click="show_payments=!show_payments">
                        <span ng-if="!show_payments">View details</span>
                        <span ng-if="show_payments">Hide details</span>
                      </a>
                    </span>
                    </div>
                  </div>
                  <div ng-if="show_payments" ng-repeat="payment in booking.payments" class="payment-breakup booking-item">
                    <div class="col1">
                      <div ng-switch on="payment.payment_mode_string">
                        <div ng-switch-when="Refund" class="control-group">Refunded payment</div>
                        <div ng-switch-when="Cash Refund" class="control-group">Refunded payment</div>
                        <div ng-switch-default>Paid via  {{ payment.payment_mode_string }}</div>
                      </div>
                    </div>
                    <div class="col2 amount">{{ payment.amount | line_item_amount:payment.currency }}</div>
                  </div>
                </div>
                <!-- <div class="pending-payment" ng-show="booking.balance_payment>0">
                  <div ui-if="payment.amount>0" class="booking-item header">
                    <div class="col1">Current payment <span class="muted">&ndash; to be made</span></div>
                    <div class="col2 amount">{{ payment.amount | line_item_amount:payment.currency }}</div>
                  </div>
                  <div class="booking-item header">
                    <div class="col1">Balance payment &ndash; to be paid as per <a ng-href="{{ client.booking_terms_url}}" target="_blank">booking terms</a></div>
                    <div class="col2 amount">{{ booking.balance_payment | line_item_amount:booking.currency }}</div>
                  </div>
                </div> -->
              </div>
            </div>
          </script>
          <script type="text/ng-template" id="contact-details-form.html">
                  <div ng-form name="booking_contact_form" ng-controller="ContactFormController">
              <div class="contact" ng-repeat="contact in booking.contacts">
                <h2>Contact Details</h2>
                <small>Who do we communicate with about this booking?</small>

                <div vl-control-group>
                  <label class="control-label">Full name</label>
                  <div class="controls controls-row">
                    <span ng-form name="title_form" vl-customer-title-selector model="contact.title"></span>
                    <!-- <select name="title" ng-options="title for title in titles" class="input-mini" ng-model="contact.title" required></select> -->
                    <input type="text" class="input-large" ng-model="contact.full_name" required name="name" required ng-minlength="3" placeholder="Full name" />
                    <div class="help-block errors" vl-appear="show_errors && (booking_contact_form.name.$invalid || booking_contact_form.title_form.$invalid)">
                      <div vl-appear="booking_contact_form.title_form.title.$error.required">Title is required</div>
                      <div vl-appear="booking_contact_form.name.$error.required">Name is required</div>
                      <div vl-appear="booking_contact_form.name.$error.minlength">Name seems too short</div>
                    </div>
                  </div>
                </div>
                <div vl-control-group="booking_contact_form.email">
                  <label class="control-label">Email</label>
                  <div class="controls">
                    <input type="email" class="input-large email" ng-model="contact.email" required name="email"  placeholder="Email address" />
                    <div class="help-block errors" vl-appear="show_errors && booking_contact_form.email.$invalid">
                      <div vl-appear="booking_contact_form.email.$error.required">Email is required</div>
                      <div vl-appear="booking_contact_form.email.$error.email">Doesn&#x27;t seem like a valid email address</div>
                    </div>
                  </div>
                </div>
                <div vl-control-group="booking_contact_form.vl_phone_number_form.phone">
                  <label class="control-label">Phone number</label>
                  <div class="controls">
                    <div vl-phone-editor model="contact.phone" phone-required="true"></div>
                    <!-- <input id="mobile-number" type="tel" class="input-large phone" ng-model="contact.phone" required ng-minlength="8" name="phone" /> -->
                    <div class="help-block">Please prefix phone number with complete country &amp; area code</div>
                    <div class="help-block errors" vl-appear="show_errors && booking_contact_form.vl_phone_number_form.phone.$invalid">
                      <div vl-appear="booking_contact_form.vl_phone_number_form.phone.$error.required">Phone is required</div>
                      <div vl-appear="booking_contact_form.vl_phone_number_form.phone.$error.minlength">Phone seems too short</div>
                    </div>
                  </div>
                </div>

                <div custom-form-generator custom-form-values="contact.custom_form_values" custom-form="contact_custom_form"></div>
              </div>
            </div>
          </script>
          <script type="text/ng-template" id="booking-comments-form.html">
                  <div class="form-vertical" ng-form name="booking_comments_form">
              <div vl-control-group="booking_comments_form.comments">
                <h2>Any special requests / comments?</h2>
                <small class="help-block"><strong>Note:</strong> We try our best to accommodate special requests, but it may not always be possible to fulfil them.</small>

                <textarea style="width: 95%;" ng-model="booking.comments" name="comments" ng-maxlength="3500" placeholder="Special requests or comments"></textarea>
                <div class="errors" vl-appear="show_errors && booking_comments_form.comments.$invalid">
                  <div vl-appear="booking_comments_form.comments.$error.maxlength">The comment is too long. Consider shortening the comment here and sending a follow-up mail to nirajsingh19982017@gmail.com instead.</div>
                </div>
              </div>
            </div>
          </script>
          <script type="text/ng-template" id="booking-caveats-form.html">
                  <div ng-form name="booking_caveats_form" ng-controller="BookingCaveatsFormController">
              <div class="caveats" vl-control-group="booking_caveats_form.caveats_checkbox">
                <div class="booking-caveats"></div>
                <label class="checkbox">
                  <input type="checkbox" name="caveats_checkbox" ng-model="caveats_checkbox" />
                  <span class="checkbox-info without-trip-caveats">
                      I agree to the <a ng-href='' target='_blank'>general terms &amp; conditions</a> of this booking
                  </span>
                </label>
                <div class="help-block errors" vl-appear="show_errors && booking_caveats_form.caveats_checkbox.$invalid">You must agree to the booking terms &amp;amp; conditions</div>
              </div>
            </div>
          </script>
          <script type="text/ng-template" id="child-ages.html">
                  <div class="child-age-container">
              <div class="arrow"></div>
              <div class="child-age" ng-repeat="child_cnt in [1, room_eng.occupancy[\'child\']]|makeRange">'
                <label>Child {{ child_cnt }}</label>
                <select ng-model="room_eng.guest_details[\'child_\' + child_cnt + \'_age\']" ng-options="age for age in [1, 12]|makeRange" class="input-mini"><option value="">>Age (in years)</option></select>'
              </div>
            </div>
          </script>
          <script
            type="text/ng-template"
            id="/store_front/itinerary/bookings/departure-list-view.html"
          >
                  <div class="departure-list-view">
              <div class="inner-block" ng-if="events.length <= 0">
                <div class="row-fluid no-upcoming-open-slot">
                  <div class="mail-icon" style="float: left;text-align: center;">
                    <img  style="width:80px;height:80px;" src="../../assets/mail_icon.png">
                  </div>
                  <div class="info-message" style="float: left;display: flex;align-items: center;height: 80px;justify-content: center;color: #c09853;text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);padding-left: 15px;">
                    <div style="color: #c09853;">
                      <p>Sorry we aren't open for bookings.</p><p>You could get in touch with us at <a href='mailto:nirajsingh19982017@gmail.com'>nirajsingh19982017@gmail.com</a> if you'd like to make a booking.</p>
                    </div>
                  </div>
                </div>
              </div>
              <div ng-repeat="event in events">
                <div ng-if="!event.multiple_occurrences">
                  <div vl-itinerary-departure-list-item ng-repeat="occ in event.occurrences"></div>
                </div>

                <div ng-if="event.multiple_occurrences">
                  <div class="availability-options-container">
                    <div class="options-header"></div>

                    <div class="options-body">
                      <div id="borderLeft"></div>
                      <div vl-itinerary-departure-list-item ng-repeat="occ in event.occurrences"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </script>
          <script
            type="text/ng-template"
            id="/store_front/itinerary/bookings/departure-list-item.html"
          >
                  <div class="list-item">
              <div class="col1">
                <div vl-starts-ends-at-duration occurrence="occ" trip="trip"></div>
                <div class="variant" ng-if="trip.has_variants">
                  <i class="icon-reorder"></i>
                  <span class="variant-title">{{occ.trip_option.title}}</span>
                  <a class="variant-info" title="" href="" ng-click="toggle_variant_info()" ng-show="occ.trip_option.description.length > 0"><i class="icon-question-sign"></i></a>
                  <div class="variant-info-block">
                    <p>{{occ.trip_option.description}}</p>
                  </div>
                </div>
                <span class="sticker-price">({{occ.pricing_group.sticker_price | total_amount_in_preferred_currency:trip.currency }})</span></span>
                <div vl-guaranteed-messaging occurrence="occ" ui-settings="ui_settings" ng-if="occurrence_guaranteed(occ) && (ui_settings.show_guaranteed_departure || ui_settings.show_x_to_guarantee_departure)"></div>
              </div>

              <div class="col2">
                <div vl-availability-block occurrence="occ" ui-settings="ui_settings"></div>
                <div vl-store-front-book-button occurrence="occ" on-book="book_now_clicked(trip, trip_option, starts_at, pricings)" trip="trip" trip-option="occ.trip_option"></div>
              </div>

              <div id="borderBottom"></div>
            </div>
          </script>
          <script
            type="text/ng-template"
            id="/store_front/itinerary/bookings/departure-list-header.html"
          >
                  <div class="list-header">
              <div class="inner-block">
                <div class="col1">
                  <div class="filters">
                    <h4>Filter departures</h4>
                    <div class="month-selector" ng-if="ui_filters.month_selector">
                      <div class="filter-title">
                        Starting from
                      </div>
                      <div vl-itinerary-departure-month-selector ng-if="ui_filters.month_selector"></div>
                    </div>

                    <div class="guaranteed-selector" ng-if="ui_filters.guaranteed_selector">
                      <div class="filter-title">
                        Guaranteed for <i class="icon-question-sign" tooltip="Use this to find departures that are SURELY operating. If you are a group of one, two or more, simply enter the number and find departures guaranteed for you." tooltip-placement="bottom"></i>
                      </div>
                      <div vl-itinerary-departure-guaranteed-selector></div>
                    </div>

                    <div class="filter-actions" ng-if="ui_filters.filters_present()">
                      <button class="btn btn-small filter-button" vl-click="fetch_upcoming_departures(ui.current_departure_month, ui.current_departure_year, ui.departure_limit, ui.departure_offset)">Filter</button>
                      <a href="" class="clear-filter-link" ng-click="clear_filters()">Clear filters</a>
                    </div>
                  </div>

                  <div class="spinner" ng-show="ui.show_spinner">
                    <img src="../../assets/ajax-loader.gif">
                  </div>
                </div>
                <div class="col2">
                  <div vl-simple-pagination offset="ui.departure_offset" limit="ui.departure_limit" on-next="pagination_change(limit, offset)" on-prev="pagination_change(limit, offset)"></div>
                </div>
              </div>
            </div>
          </script>
          <script
            type="text/ng-template"
            id="/store_front/itinerary/bookings/guaranteed-messaging.html"
          >
                  <div class="departure-guarantee">
              <div class="completely-guaranteed" ng-if="ui_settings.show_guaranteed_departure && occurrence.min_pax == 0">
                <i class="icon-thumbs-up"></i>
                <span>
                  Guaranteed departure
                </span>
              </div>

              <div class="more-needed" ng-if="ui_settings.show_x_to_guarantee_departure && occurrence.min_pax > 0">
                <i class="icon-flag"></i>
                <span>
                  {{occurrence.min_pax}} more to guarantee departure
                </span>
              </div>
            </div>
          </script>
          <script
            type="text/ng-template"
            id="/store_front/itinerary/bookings/departure-guaranteed-selector.html"
          >
            <div></div>
          </script>
          <script
            type="text/ng-template"
            id="/store_front/itinerary/bookings/availability-block.html"
          >
                  <div class="availability">
              <span ng-if="occurrence.available_seats > 0">
                <span class="booked" ng-if="ui_settings.show_booked_seats && occurrence.booked_seats > 0">
                  <span class="seats">{{occurrence.booked_seats}}</span> Booked
                  <span ng-if="ui_settings.show_avail_seats"> / </span>
                </span>
                <span ng-if="ui_settings.show_avail_seats" class="available">
                  <span class="seats">{{occurrence.available_seats}}</span> Available
                </span>

                <!-- Behaviour WITH urgency triggers -->
                <span ng-if="urgency_trigger_condition && (ui_settings.show_avail_seats || (ui_settings.show_booked_seats && occurrence.booked_seats > 0))"> / </span>
                <span ng-if="urgency_trigger_condition=='a'" class="urgency-trigger urgency-trigger-a">Last seat</span>
                <span ng-if="urgency_trigger_condition=='b'" class="urgency-trigger urgency-trigger-b">Last few seats</span>
                <span ng-if="urgency_trigger_condition=='c'" class="urgency-trigger urgency-trigger-c">Selling fast</span>
                <span ng-if="urgency_trigger_condition=='d'" class="urgency-trigger urgency-trigger-d">Available</span>
              </span>

              <span ng-if="occurrence.available_seats <= 0">Bookings closed</span>
            </div>
          </script>
          <script
            type="text/ng-template"
            id="/store_front/itinerary/bookings/store-front-book-button.html"
          >
                  <div class="book-button-container">
              <button class="btn btn-primary book-button" ng-class="{'request-for-booking': (occurrence.available_seats <= 0)}" vl-click="book_now_clicked(trip, trip_option, occurrence.starts_at, occurrence.pricing_group.pricings)" click-message="{{(occurrence.available_seats > 0 && occurrence.booked_seats > 0) ? 'Joining...' : 'Booking..'}}">
                <span ng-if="occurrence.available_seats > 0">
                  <span ng-if="trip.skip_payment">
                    Enquire now
                  </span>

                  <span ng-if="!trip.skip_payment">
                    <span ng-if="trip.pay_at_venue_enabled">
                      Book now
                    </span>

                    <span ng-if="!trip.pay_at_venue_enabled">
                      <span min-deposit-enabled trip-option="trip_option" occurrence="occurrence" trip-currency="{{trip.currency}}"></span>
                    </span>
                  </span>
                </span>

                <span ng-if="occurrence.available_seats <= 0">
                  Request a quote
                </span>
              </button>
              <!-- to display the minimum deposit message -->
              <div min-deposit-message trip-option="trip_option" trip="trip" occurrence="occurrence" pay-at-venue-enabled="{{trip.pay_at_venue_enabled}}" skip-payment="{{trip.skip_payment}}" trip-currency="{{trip.currency}}" pax-label="{{trip.pax_label.singular}}"></div>
            </div>
          </script>
          <script
            type="text/ng-template"
            id="/store_front/itinerary/bookings/starts-ends-at-duration.html"
          >
                  <div class="dt-time">
              <span class="starts_at"><span class="starts_at_dt">{{occurrence.starts_at | date_with_intelligent_year}}</span> <span class="starts_at_time" ng-if="trip.time_significance"><i class="icon-time"></i> {{occurrence.starts_at | date_format:'timeOnly'}}</span></span>
              <span class="ends_at" ng-if="date_mismatch(occurrence.ends_at, occurrence.starts_at) || trip.time_significance">
                to
                <span class="ends_at_dt" ng-if="date_mismatch(occurrence.ends_at, occurrence.starts_at)">{{occurrence.ends_at | date_with_intelligent_year}}</span>
                <span class="ends_at_time" ng-if="trip.time_significance">
                  <i ng-if="date_mismatch(occurrence.ends_at, occurrence.starts_at)" class="icon-time"></i>
                  {{occurrence.ends_at | date_format:'timeOnly'}}
                </span>
              </span>
              <span class="trip-duration" ng-if="show_duration_always || (!date_mismatch(occurrence.ends_at, occurrence.starts_at) && !trip.time_significance)">
                <span duration-view trip="trip"></span>
              </span>
            </div>
          </script>
          <script
            type="text/ng-template"
            id="/store_front/itinerary/bookings/min-deposit-enabled.html"
          >
                  <span>
              <span ng-if="occurrence.booked_seats > 0">
                <span ng-if="(tripOption.min_deposit_basis != 'POB') || (tripOption.min_deposit_basis == 'POB' && tripOption.min_deposit_value != 100)">
                  Pay &amp; Book Now &rarr;
                </span>
                <span ng-if="tripOption.min_deposit_basis == 'POB' && tripOption.min_deposit_value == 100">
                  Join and pay {{occurrence.pricing_group.sticker_price | line_item_amount_in_preferred_currency: tripCurrency}}
                </span>
              </span>
              <span ng-if="occurrence.booked_seats <= 0">
                <span ng-if="(tripOption.min_deposit_basis != 'POB') || (tripOption.min_deposit_basis == 'POB' && tripOption.min_deposit_value != 100)">
                  Pay &amp; Book Now &rarr;
                </span>
                <span ng-if="tripOption.min_deposit_basis =='POB' && tripOption.min_deposit_value == 100">
                  Pay {{occurrence.pricing_group.sticker_price | line_item_amount_in_preferred_currency: tripCurrency}} and book
                </span>
              </span>
            </span>
          </script>
          <script
            type="text/ng-template"
            id="/store_front/itinerary/bookings/min-deposit-message.html"
          >
                  <div>
              <div ng-if="(payAtVenueEnabled == 'false' || !payAtVenueEnabled) && (skipPayment == 'false' || !skipPayment) && occurrence.available_seats  > 0" style="color: #999999;font-size: 14px;">
                <div ng-switch="tripOption.min_deposit_basis">
                  <div ng-switch-when="POB" ng-if="tripOption.min_deposit_value != 100 ">
                    Book Now by paying just {{tripOption.min_deposit_value}}% of the total amount!
                  </div>
                  <div ng-switch-when="FAPB">
                    Book Now by paying just {{tripOption.min_deposit_value | line_item_amount_in_preferred_currency: tripCurrency}}.
                  </div>
                  <div ng-switch-when="FAPP">
                    Book Now by paying just {{tripOption.min_deposit_value | line_item_amount_in_preferred_currency: tripCurrency}} per {{paxLabel}}.
                  </div>
                </div>
              </div>
            </div>
          </script>
          <script
            type="text/ng-template"
            id="/store_front/itinerary/bookings/trip-sticker-price.html"
          >
                  <span>
              <span ng-if="tripOption.advt_price_label_position == 'prefix'">
                {{ tripOption.advt_price_label }}
              </span>
              {{tripOption.sticker_price | total_amount_in_preferred_currency: currency }}
              <span ng-if="tripOption.advt_price_label_position == 'suffix'">
                {{ tripOption.advt_price_label }}
              </span>
            </span>
          </script>

          <div class="row-fluid">
            <div
              class="span12 interstitial-block"
              ng-cloak
              ui-if="interstitial_service.state=='processing'"
            >
              <!-- TODO: Common directive?? -->
              <div style="text-align: center">
                <h3>Processing. Please wait</h3>
                <p>
                  <img
                    alt="Ajax-loader"
                    src="../../../vl-prod-static.b-cdn.net/assets/ajax-loader-950501ed18b5a2b90bc681c7fb40ee7c.gif"
                  />
                </p>
                <p class="help-block">
                  Please do not press the back button or refresh the page...
                </p>
              </div>
            </div>
          </div>

          <div
            ng-show="!(interstitial_service.state=='processing')"
            class="row-fluid booking-form-container"
          >
            <div class="span12">
              <div class="header" ng-show="settings.booking_form_header">
                <table class="booking-steps">
                  <tr>
                    <td ng-class="booking_step_class('departure_date')[0]">
                      <i ng-class="booking_step_class('departure_date')[1]"></i>
                      Dates
                    </td>
                    <td ng-class="booking_step_class('booking_items')[0]">
                      <i ng-class="booking_step_class('booking_items')[1]"></i>
                      Details
                    </td>
                    <td
                      ui-if="settings.pax_info==true"
                      ng-class="booking_step_class('pax_details')[0]"
                    >
                      <i ng-class="booking_step_class('pax_details')[1]"></i>
                      Participants
                    </td>
                    <td ng-class="booking_step_class('payment')[0]">
                      <i ng-class="booking_step_class('payment')[1]"></i>
                      Payment
                    </td>
                  </tr>
                </table>
                <h2 ui-view="step-heading"></h2>
                <div class="status-bar">
                  <div vl-booking-form-alerts=""></div>
                </div>
              </div>

              <div ui-view="booking-form-body"></div>
            </div>
          </div>
        </div>
      </div>

      <script type="text/javascript">
        angular
          .module("vl.itinerary.store_front.models")
          .factory("currencySwitcherCache", [
            "$cacheFactory",
            function ($cacheFactory) {
              var cache = $cacheFactory("currencySwitcherCache");

              cache.get_rate = function (opts) {
                return cache.get(opts.from + "-" + opts.to);
              };

              cache.put_rate = function (opts, val) {
                return cache.put(opts.from + "-" + opts.to, val);
              };

              return cache;
            },
          ]);
      </script>

      <script type="text/javascript">
        angular.module("vl.common").value("ClientObject", {
          currency: "INR",
          id: 22655,
          name: "Trek The Bharat",
          support_email: "nirajsingh19982017@gmail.com",
          support_phone: "+918382085044",
          tz: "Asia/Kolkata",
          booking_terms_url: null,
        });

        var module = angular.module("vl.itinerary.store_front.bookings");

        module.service("UIFilters", [
          function () {
            return {
              month_selector: true,
            };
          },
        ]);

        module.constant("BookingFormSettings", {
          steps: "multi",
          pax_info: false,
          departure_date_selector: "calendar",
          trip_option: "single",
          show_hotel_booking_form: false,
          show_addon_form: false,
          preselected_departure_date: null,
          payment_request: false,
          booking_form_in_modal: false,
          booking_form_header: true,
          show_pax_booking_form: true,
          pricing_breakup: false,
          skip_payment: false,
        });

        module.run([
          "$rootScope",
          "Trip",
          "DepartureDateCache",
          "BookingService",
          "TripOptionCache",
          "TripOption",
          "$state",
          "$timeout",
          "NewPaymentService",
          "TripService",
          "TripOptionService",
          "$stateParams",
          "CustomFormCache",
          "TripEnabledPaymentModes",
          "vlFlashService",
          "ContactDetailsPrefillService",
          function (
            $rootScope,
            Trip,
            depDateCache,
            booking,
            tripOptionCache,
            TripOption,
            $state,
            $timeout,
            new_payment,
            trip,
            trip_option,
            $stateParams,
            custom_form_cache,
            trip_enabled_payment_modes,
            vlFlashService,
            ContactDetailsPrefillService
          ) {
            trip.update({
              booking_custom_form_id: null,
              code: "10N11DLS",
              contact_custom_form_id: null,
              currency: "INR",
              departure_type: "activity",
              duration_seconds: 864000,
              id: 137142,
              name: "Manali Leh Srinagar",
              pax_custom_form_id: null,
              pay_at_venue_enabled: false,
              skip_payment: false,
              trip_type: "short_tour",
              tz: "Asia/Kolkata",
              has_caveats: false,
              time_significance: true,
              has_variants: "false",
              booking_form_ui_settings: {
                show_avail_seats: true,
                show_booked_seats: true,
                show_guaranteed_departure: false,
                show_x_to_guarantee_departure: false,
                show_departure_calendar: true,
                show_departure_list: false,
                show_dates_and_rates_section: false,
                departure_list_limit: 10,
              },
              pax_label: { singular: "participant", plural: "participants" },
              key: "137142",
              advertised_duration_string: "10 Nights 11 Days",
              addons: [],
              permalink:
                "https://www.Trek The Bharat.com/tours/manali-leh-srinagar-137142",
            });
            booking.update({
              trip_id: 137142,
            });

            $timeout(function () {
              booking.ensure_booking($stateParams.booking_key);
            });

            ContactDetailsPrefillService.load({
              title: null,
              full_name: null,
              email: null,
              phone: null,
            });

            // TODO -- what happens to tripOptionCache if we don't have a pre-selected
            // departure date and the user comes *back* to the departure date step to
            // select a date

            // TODO: Logically if there is only one trip option and a date is
            // preselected then there shouldn't be the need to fill up the cache.
            // Should construct the calendar if no date is selected, or if date is
            // selected, but there are multiple trip options
            depDateCache.load({}, [
              "starts_at",
              "ends_at",
              "min_pax",
              "available_seats",
              "total_capacity",
              "pricing_group_id",
            ]);

            depDateCache.load_pricings({
              5906254: {
                pricings: [
                  {
                    channel_pricing: false,
                    client_id: 22655,
                    created_at: "2024-03-28T09:41:49Z",
                    description: "3 people in one room | Extra mattress",
                    id: 6048518,
                    language: "en",
                    name: "Tempo Traveller",
                    position: 0,
                    pricing_code: "CSTM",
                    pricing_group_id: 5906254,
                    rate: 36000.0,
                    slabs: null,
                    spots_used: 1,
                    sticker_price: 36000.0,
                    trip_id: 137142,
                    trip_option_id: 157491,
                    updated_at: "2024-03-28T09:41:49Z",
                    rate_type: "per_pax",
                  },
                  {
                    channel_pricing: false,
                    client_id: 22655,
                    created_at: "2024-03-28T09:41:49Z",
                    description: "3 people in one room | Extra mattress",
                    id: 6048519,
                    language: "en",
                    name: "RE 500 CC (Solo Rider)",
                    position: 1,
                    pricing_code: "CSTM",
                    pricing_group_id: 5906254,
                    rate: 48000.0,
                    slabs: null,
                    spots_used: 1,
                    sticker_price: 36000.0,
                    trip_id: 137142,
                    trip_option_id: 157491,
                    updated_at: "2024-03-28T09:41:49Z",
                    rate_type: "per_pax",
                  },
                  {
                    channel_pricing: false,
                    client_id: 22655,
                    created_at: "2024-03-28T09:41:49Z",
                    description: "3 people in one room | Extra mattress",
                    id: 6048520,
                    language: "en",
                    name: "RE 500 CC (With Pillion)",
                    position: 2,
                    pricing_code: "CSTM",
                    pricing_group_id: 5906254,
                    rate: 36000.0,
                    slabs: null,
                    spots_used: 1,
                    sticker_price: 36000.0,
                    trip_id: 137142,
                    trip_option_id: 157491,
                    updated_at: "2024-03-28T09:41:49Z",
                    rate_type: "per_pax",
                  },
                  {
                    channel_pricing: false,
                    client_id: 22655,
                    created_at: "2024-03-28T09:41:49Z",
                    description: "3 people in one room | Extra mattress",
                    id: 6048521,
                    language: "en",
                    name: "RE Himalayan (Solo Rider)",
                    position: 3,
                    pricing_code: "CSTM",
                    pricing_group_id: 5906254,
                    rate: 48000.0,
                    slabs: null,
                    spots_used: 1,
                    sticker_price: 36000.0,
                    trip_id: 137142,
                    trip_option_id: 157491,
                    updated_at: "2024-03-28T09:41:49Z",
                    rate_type: "per_pax",
                  },
                  {
                    channel_pricing: false,
                    client_id: 22655,
                    created_at: "2024-03-28T09:41:49Z",
                    description: "3 people in one room | Extra mattress",
                    id: 6048522,
                    language: "en",
                    name: "RE Himalayan (With Pillion)",
                    position: 4,
                    pricing_code: "CSTM",
                    pricing_group_id: 5906254,
                    rate: 38000.0,
                    slabs: null,
                    spots_used: 1,
                    sticker_price: 36000.0,
                    trip_id: 137142,
                    trip_option_id: 157491,
                    updated_at: "2024-03-28T09:41:49Z",
                    rate_type: "per_pax",
                  },
                ],
                sticker_price: 36000.0,
              },
              5800773: {
                pricings: [
                  {
                    channel_pricing: false,
                    client_id: 22655,
                    created_at: "2024-03-13T08:24:58Z",
                    description: "Students with relevant ID proof",
                    id: 5942130,
                    language: "en",
                    name: "Student",
                    position: 0,
                    pricing_code: "STD",
                    pricing_group_id: 5800773,
                    rate: 333.0,
                    slabs: null,
                    spots_used: 1,
                    sticker_price: 333.0,
                    trip_id: 137142,
                    trip_option_id: 157491,
                    updated_at: "2024-03-13T08:24:58Z",
                    rate_type: "per_pax",
                  },
                ],
                sticker_price: 333.0,
              },
              5813498: {
                pricings: [
                  {
                    channel_pricing: false,
                    client_id: 22655,
                    created_at: "2024-03-14T12:24:35Z",
                    description: "RE 500 cc (Solo Rider)",
                    id: 5954937,
                    language: "en",
                    name: "Tempo Traveller",
                    position: 1,
                    pricing_code: "CSTM",
                    pricing_group_id: 5813498,
                    rate: 3600.0,
                    slabs: null,
                    spots_used: 1,
                    sticker_price: 333.0,
                    trip_id: 137142,
                    trip_option_id: 157491,
                    updated_at: "2024-03-14T12:24:35Z",
                    rate_type: "per_pax",
                  },
                ],
                sticker_price: 333.0,
              },
              5813671: {
                pricings: [
                  {
                    channel_pricing: false,
                    client_id: 22655,
                    created_at: "2024-03-14T12:38:41Z",
                    description: "3 people in one room | Extra mattress",
                    id: 5955112,
                    language: "en",
                    name: "Tempo Traveller",
                    position: 1,
                    pricing_code: "CSTM",
                    pricing_group_id: 5813671,
                    rate: 36000.0,
                    slabs: null,
                    spots_used: 1,
                    sticker_price: 333.0,
                    trip_id: 137142,
                    trip_option_id: 157491,
                    updated_at: "2024-03-14T12:38:41Z",
                    rate_type: "per_pax",
                  },
                  {
                    channel_pricing: false,
                    client_id: 22655,
                    created_at: "2024-03-14T12:38:41Z",
                    description: "3 people in one room | Extra mattress",
                    id: 5955113,
                    language: "en",
                    name: "RE 500 CC (Solo Rider)",
                    position: 2,
                    pricing_code: "CSTM",
                    pricing_group_id: 5813671,
                    rate: 48000.0,
                    slabs: null,
                    spots_used: 1,
                    sticker_price: 333.0,
                    trip_id: 137142,
                    trip_option_id: 157491,
                    updated_at: "2024-03-14T12:38:41Z",
                    rate_type: "per_pax",
                  },
                  {
                    channel_pricing: false,
                    client_id: 22655,
                    created_at: "2024-03-14T12:38:41Z",
                    description: "3 people in one room | Extra mattress",
                    id: 5955114,
                    language: "en",
                    name: "RE 500 CC (With Pillion)",
                    position: 3,
                    pricing_code: "CSTM",
                    pricing_group_id: 5813671,
                    rate: 36000.0,
                    slabs: null,
                    spots_used: 1,
                    sticker_price: 333.0,
                    trip_id: 137142,
                    trip_option_id: 157491,
                    updated_at: "2024-03-14T12:38:41Z",
                    rate_type: "per_pax",
                  },
                  {
                    channel_pricing: false,
                    client_id: 22655,
                    created_at: "2024-03-14T12:38:41Z",
                    description: "3 people in one room | Extra mattress",
                    id: 5955115,
                    language: "en",
                    name: "RE Himalayan (Solo Rider)",
                    position: 4,
                    pricing_code: "CSTM",
                    pricing_group_id: 5813671,
                    rate: 48000.0,
                    slabs: null,
                    spots_used: 1,
                    sticker_price: 333.0,
                    trip_id: 137142,
                    trip_option_id: 157491,
                    updated_at: "2024-03-14T12:38:41Z",
                    rate_type: "per_pax",
                  },
                  {
                    channel_pricing: false,
                    client_id: 22655,
                    created_at: "2024-03-14T12:38:41Z",
                    description: "3 people in one room | Extra mattress",
                    id: 5955116,
                    language: "en",
                    name: "RE Himalayan (With Pillion)",
                    position: 5,
                    pricing_code: "CSTM",
                    pricing_group_id: 5813671,
                    rate: 38000.0,
                    slabs: null,
                    spots_used: 1,
                    sticker_price: 333.0,
                    trip_id: 137142,
                    trip_option_id: 157491,
                    updated_at: "2024-03-14T12:38:41Z",
                    rate_type: "per_pax",
                  },
                ],
                sticker_price: 333.0,
              },
            });

            angular.forEach(
              [
                {
                  advt_price_label: "+ 5% GST",
                  advt_price_label_position: "suffix",
                  booking_lead_time_seconds: 0,
                  client_id: 22655,
                  deleted: false,
                  description: "",
                  hotel_pricing_id: null,
                  id: 157491,
                  language: "en",
                  max_pax: 99,
                  max_pax_mode: "record_booking_as_inquiry",
                  min_deposit_basis: "POB",
                  min_deposit_value: 100.0,
                  min_pax: 1,
                  min_pax_mode: "manual_confirm_with_warning",
                  multi_pax_type_pricing_id: null,
                  package_pricing_id: null,
                  pax_type_group_id: null,
                  per_booking_pricing_id: null,
                  per_pax_slab_pricing_id: null,
                  position: 1,
                  pricing_group_id: 5906254,
                  schedule_summary: null,
                  sticker_price: 36000.0,
                  title: " - Basic",
                  transport_pricing_id: null,
                  trip_id: 137142,
                  trip_type: "short_tour",
                  pricing_rules: [
                    {
                      channel_pricing: false,
                      client_id: 22655,
                      created_at: "2024-03-28T09:41:49Z",
                      description: "3 people in one room | Extra mattress",
                      id: 6048518,
                      language: "en",
                      name: "Tempo Traveller",
                      position: 0,
                      pricing_code: "CSTM",
                      pricing_group_id: 5906254,
                      rate: 36000.0,
                      slabs: null,
                      spots_used: 1,
                      sticker_price: 36000.0,
                      trip_id: 137142,
                      trip_option_id: 157491,
                      updated_at: "2024-03-28T09:41:49Z",
                      rate_type: "per_pax",
                    },
                    {
                      channel_pricing: false,
                      client_id: 22655,
                      created_at: "2024-03-28T09:41:49Z",
                      description: "3 people in one room | Extra mattress",
                      id: 6048519,
                      language: "en",
                      name: "RE 500 CC (Solo Rider)",
                      position: 1,
                      pricing_code: "CSTM",
                      pricing_group_id: 5906254,
                      rate: 48000.0,
                      slabs: null,
                      spots_used: 1,
                      sticker_price: 36000.0,
                      trip_id: 137142,
                      trip_option_id: 157491,
                      updated_at: "2024-03-28T09:41:49Z",
                      rate_type: "per_pax",
                    },
                    {
                      channel_pricing: false,
                      client_id: 22655,
                      created_at: "2024-03-28T09:41:49Z",
                      description: "3 people in one room | Extra mattress",
                      id: 6048520,
                      language: "en",
                      name: "RE 500 CC (With Pillion)",
                      position: 2,
                      pricing_code: "CSTM",
                      pricing_group_id: 5906254,
                      rate: 36000.0,
                      slabs: null,
                      spots_used: 1,
                      sticker_price: 36000.0,
                      trip_id: 137142,
                      trip_option_id: 157491,
                      updated_at: "2024-03-28T09:41:49Z",
                      rate_type: "per_pax",
                    },
                    {
                      channel_pricing: false,
                      client_id: 22655,
                      created_at: "2024-03-28T09:41:49Z",
                      description: "3 people in one room | Extra mattress",
                      id: 6048521,
                      language: "en",
                      name: "RE Himalayan (Solo Rider)",
                      position: 3,
                      pricing_code: "CSTM",
                      pricing_group_id: 5906254,
                      rate: 48000.0,
                      slabs: null,
                      spots_used: 1,
                      sticker_price: 36000.0,
                      trip_id: 137142,
                      trip_option_id: 157491,
                      updated_at: "2024-03-28T09:41:49Z",
                      rate_type: "per_pax",
                    },
                    {
                      channel_pricing: false,
                      client_id: 22655,
                      created_at: "2024-03-28T09:41:49Z",
                      description: "3 people in one room | Extra mattress",
                      id: 6048522,
                      language: "en",
                      name: "RE Himalayan (With Pillion)",
                      position: 4,
                      pricing_code: "CSTM",
                      pricing_group_id: 5906254,
                      rate: 38000.0,
                      slabs: null,
                      spots_used: 1,
                      sticker_price: 36000.0,
                      trip_id: 137142,
                      trip_option_id: 157491,
                      updated_at: "2024-03-28T09:41:49Z",
                      rate_type: "per_pax",
                    },
                  ],
                  pricings: [
                    {
                      channel_pricing: false,
                      client_id: 22655,
                      created_at: "2024-03-28T09:41:49Z",
                      description: "3 people in one room | Extra mattress",
                      id: 6048518,
                      language: "en",
                      name: "Tempo Traveller",
                      position: 0,
                      pricing_code: "CSTM",
                      pricing_group_id: 5906254,
                      rate: 36000.0,
                      slabs: null,
                      spots_used: 1,
                      sticker_price: 36000.0,
                      trip_id: 137142,
                      trip_option_id: 157491,
                      updated_at: "2024-03-28T09:41:49Z",
                      rate_type: "per_pax",
                    },
                    {
                      channel_pricing: false,
                      client_id: 22655,
                      created_at: "2024-03-28T09:41:49Z",
                      description: "3 people in one room | Extra mattress",
                      id: 6048519,
                      language: "en",
                      name: "RE 500 CC (Solo Rider)",
                      position: 1,
                      pricing_code: "CSTM",
                      pricing_group_id: 5906254,
                      rate: 48000.0,
                      slabs: null,
                      spots_used: 1,
                      sticker_price: 36000.0,
                      trip_id: 137142,
                      trip_option_id: 157491,
                      updated_at: "2024-03-28T09:41:49Z",
                      rate_type: "per_pax",
                    },
                    {
                      channel_pricing: false,
                      client_id: 22655,
                      created_at: "2024-03-28T09:41:49Z",
                      description: "3 people in one room | Extra mattress",
                      id: 6048520,
                      language: "en",
                      name: "RE 500 CC (With Pillion)",
                      position: 2,
                      pricing_code: "CSTM",
                      pricing_group_id: 5906254,
                      rate: 36000.0,
                      slabs: null,
                      spots_used: 1,
                      sticker_price: 36000.0,
                      trip_id: 137142,
                      trip_option_id: 157491,
                      updated_at: "2024-03-28T09:41:49Z",
                      rate_type: "per_pax",
                    },
                    {
                      channel_pricing: false,
                      client_id: 22655,
                      created_at: "2024-03-28T09:41:49Z",
                      description: "3 people in one room | Extra mattress",
                      id: 6048521,
                      language: "en",
                      name: "RE Himalayan (Solo Rider)",
                      position: 3,
                      pricing_code: "CSTM",
                      pricing_group_id: 5906254,
                      rate: 48000.0,
                      slabs: null,
                      spots_used: 1,
                      sticker_price: 36000.0,
                      trip_id: 137142,
                      trip_option_id: 157491,
                      updated_at: "2024-03-28T09:41:49Z",
                      rate_type: "per_pax",
                    },
                    {
                      channel_pricing: false,
                      client_id: 22655,
                      created_at: "2024-03-28T09:41:49Z",
                      description: "3 people in one room | Extra mattress",
                      id: 6048522,
                      language: "en",
                      name: "RE Himalayan (With Pillion)",
                      position: 4,
                      pricing_code: "CSTM",
                      pricing_group_id: 5906254,
                      rate: 38000.0,
                      slabs: null,
                      spots_used: 1,
                      sticker_price: 36000.0,
                      trip_id: 137142,
                      trip_option_id: 157491,
                      updated_at: "2024-03-28T09:41:49Z",
                      rate_type: "per_pax",
                    },
                  ],
                },
              ],
              function (trip_option) {
                tripOptionCache.put(
                  trip_option.id,
                  new TripOption(trip_option)
                );
              }
            );

            trip_enabled_payment_modes.payment_processors = [
              {
                id: 90775,
                message_before_completing_payment: null,
                pay_id: "payments.offlinepayment",
                storefront_help_block: null,
                storefront_name: "Pay via cash / cheque / wire transfer",
                initiate_payment_via: "unknown",
              },
            ];
          },
        ]);

        module.config([
          "$stateProvider",
          "$urlRouterProvider",
          "BookingFormSettings",
          function ($stateProvider, $urlRouterProvider, settings) {
            $urlRouterProvider.otherwise("../../index.html");

            var openSlotResolveFn = [
              "BookingService",
              function (booking) {
                var prom = booking.fetch_capacity_and_pricings();
                return prom;
              },
            ];

            $stateProvider
              .state("departure_date_step", {
                url: "/",
                // 'params' : [],
                views: {
                  "booking-form-body": {
                    templateUrl: "departure-date-step.html",
                  },
                  "step-heading": {
                    template: "Pick a departure date",
                  },
                },
              })
              .state("booking_items_step", {
                url: "/booking_key/:booking_key/booking_items",
                resolve: {
                  openSlotResolve: openSlotResolveFn,
                },
                views: {
                  "booking-form-body": {
                    templateUrl: "booking-items-step.html",
                    controller: "BookingItemsStepController",
                  },
                  "step-heading": {
                    template: "How many participants?",
                  },
                },
              })
              .state("pax_details_step", {
                url: "/booking_key/:booking_key/pax_details",
                views: {
                  "booking-form-body": {
                    templateUrl: "pax-details-step.html",
                  },
                  "step-heading": {
                    template: "Participant details",
                  },
                },
              })
              .state("payment_step", {
                url: "/booking_key/:booking_key/payment",
                views: {
                  "booking-form-body": {
                    templateUrl: "payment-step.html",
                  },
                  "step-heading": {
                    template:
                      "<span ng-if='booking.can_skip_payment()'> Review &amp; send enquiry</span><span ng-if='booking.cannot_skip_payment()'>Review &amp; payment</span>",
                  },
                },
              });
          },
        ]);
      </script>
    </div>

    <div class="new-storefront-footer">
      <div class="container">
        <div class="vl-footer-container">
          <span class="vl-footnote">
            <abbr
              title="Vacation Labs - Online booking engine for tours and travels"
              >Vacation Labs</abbr
            >
            |
          </span>
          &copy; 2024 <span class="company">Trek The Bharat </span>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      var config = {
        phone: "+919532226695",
        call: "Message Us",
        position: "ww-right",
        size: "ww-normal",
        text: "",
        type: "ww-standard",
        brand: "",
        subtitle: "",
        welcome: "",
      };
      var proto = document.location.protocol,
        host = "cloudfront.net",
        url = proto + "//d3kzab8jj16n2f." + host;
      var s = document.createElement("script");
      s.type = "text/javascript";
      s.async = true;
      s.src = url + "/v2/main.js";

      s.onload = function () {
        tmWidgetInit(config);
      };
      var x = document.getElementsByTagName("script")[0];
      x.parentNode.insertBefore(s, x);
    </script>

    <!-- VL Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-30889614-2"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("event", "page_view", { send_to: "UA-30889614-2" });
    </script>
    <!-- End Google Analytics -->
  </body>

  <!-- Students of Kanpur Trek The Bharat.com/itineraries/bookings/new?lang=en&trip_key=137142 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 22 Jun 2024 19:04:22 GMT -->
</html>
